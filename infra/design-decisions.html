<!doctype html>
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width" />
<title>Design Decisions</title>
<link type="text/css" rel="stylesheet" href="../css/style.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">

<!-- The loading of KaTeX is deferred to speed up page rendering -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script>

<!-- To automatically render math in text elements, include the auto-render extension: -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous"
onload="renderMathInElement(document.body);"></script>
<script>
    // https://github.com/KaTeX/KaTeX/blob/main/docs/autorender.md
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            // customised options
            // auto-render specific keys, e.g.:
                delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false},
                {left: '\\(', right: '\\)', display: false},
                {left: '\\[', right: '\\]', display: true},
                {left: "\begin{equation}", right: "\end{equation}", display: true},
                {left: "\begin{align}", right: "\end{align}", display: true},
            ],
            // rendering keys, e.g.:
            throwOnError : false
        });
    });
 </script>

</head>
<body>
<main>

<p>
<nav class="crumbs">
</p>

<ul><li>
<p>
<a href="../index.html">ysg</a>
</p>
</li>
<li>
<p>
<a href="./index.html">infrastructure</a>
</p>
</li>
<li>
<p>
design decisions
</p>
</li>
</ul>

<p>
</nav>
</p>

<h1>Design Decisions</h1>

<p>
There have been a number of design decisions made when writing (and
building) this project.
</p>

<p>
One design decision I will not discuss: write a literate program which
generates an HTML artifact. For better or worse, I was inspired by
Isabelle, Emacs, and Knuth&hellip;so blame them for this choice.
</p>

<h2>Bootstrappable Code</h2>

<p>
I will provide the code extracted from the literate program alongside
the literate program itself, so as to make sure this endeavour is
<a href="https://bootstrappable.org/">bootstrappable</a>. 
</p>

<p>
For example, I intend to have Myo be an intuitionistic HOL with a code
generator (i.e., it will generate Standard ML code). In theory, I
could then write Myo in Myo and have it generate the Standard ML code
to be compiled. If I do this, I should include the generated code (so
users can just "grab it and go" without worrying about needing Myo to
generate the code).
</p>

<h2>As Portable As Convenient</h2>

<p>
I am striving to be as portable as possible without driving myself
crazy. 
</p>

<p>
<b>For operating system environments:</b>
I am going to be working with the <a href="https://pubs.opengroup.org/onlinepubs/9799919799/">POSIX 2024 Specification</a>
even though this would "technically" preclude Haiku, BeOS, DragonFly
BSD, Solaris, Darwin (Mac OS), among others.
</p>

<p>
Really only Windows users would be impacted.
</p>

<p>
<b>For programming:</b>
I am going to be working with Standard ML, which is so minimal there
shouldn't be much of a problem (except when trying to specify the
"main" program and the build tools). I'll be using <a href="https://github.com/vqns/polymlb">polymlb</a>
to have <a href="https://polyml.org/">Poly/ML</a> compile <code>.mlb</code> "basis" files (which is how <a href="http://mlton.org/">MLton</a> and
MLkit builds projects).
</p>

<p>
If I need shell scripts, I will use the <a href="https://pubs.opengroup.org/onlinepubs/9799919799/utilities/V3_chap02.html#tag_19">POSIX shell command language</a>
(i.e., I try to avoid Bash-isms; see also the <a href="https://www.grymoire.com/Unix/Sh.html">grymoire</a>),
and I will try to adhere to the <a href="https://pubs.opengroup.org/onlinepubs/9799919799/basedefs/V1_chap12.html">POSIX utility conventions</a>
for command-line arguments.
</p>

<p>
<b>For the website:</b>
I am minimizing the amount of Javascript (limited to only KaTeX) and
CSS. There is no tracking cookies, no data analytics, no interactive
demo which runs in the browser. Nothing.
</p>

<p>
<div class="proclaim remark">
<b>Remark:</b> <i>Tools for testing portability?</i><br>
I actually do not know of any tools which will test scripts for POSIX
portable adherence. Is this even possible?
</p>

<p>
It's easy to <i>accidentally</i> write some small snippet of code which is
not portable, so it would be nice to have a tool double-check I avoid
this. 
<br>(End of Remark)
</div>
</p>

</main>

</body>
</html>
